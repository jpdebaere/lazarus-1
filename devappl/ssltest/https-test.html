<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>opsi configuration daemon</title>
	<link rel="icon" href="opsi_logo.png">
	<link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">
	<style>
		span	{text-decoration: underline;cursor:pointer;}
		span, a:link, a:visited, a:active	{ color: #555555; }
		span:hover, a:hover	{ color: #c91254; }
		body	{ background-color: #f7f7f7; color: #555555; font-family: verdana, arial; }
		h1, h2	{ color: #0067a9;text-align:center;}
		h1	{ font-size: 3em; }
		h2	{ font-size: 2em; }
		img	{ max-width: 256px; height: auto; }
		img.center {display:block; margin-left:auto; margin-right:auto;}
		div.center {display:block; margin-left:auto; margin-right:auto;width:300px;}
		section.center {text-align:center;}
		li 	{text-align:left;}
	</style>
	<script>
		function download(){
			os = getOS();
			
			url = getDownloadLink(os);
			if (url === undefined){
				document.getElementById("sectioninstaller").style.display="block";
				document.getElementById("liteminstaller").style.display="none";
			}
			var form = document.createElement('form');
			form.setAttribute('method', 'get');
			form.setAttribute('target', '_self');
			form.setAttribute('action', url);
			document.body.appendChild(form);
			form.submit();
			document.body.removeChild(form);
		}
		function getDownloadLink(ostype){
			var configedDownloadLink_windows="https://download.uib.de/opsi4.1/misc/helper/opsi-configed-setup.exe";
			var configedDownloadLink_linux="https://download.uib.de/opsi4.1/misc/helper/opsi-configed-linux-setup.tar.gz";
			if (ostype === "Windows")  	return configedDownloadLink_windows;
			else if (ostype === "UNIX")	return configedDownloadLink_linux;
			else if (ostype === "Linux")	return configedDownloadLink_linux;
			else				return undefined;
		}
		function getOS(){
			var OSName = "Unknown";
			userAgent = window.navigator.userAgent;
			if ((userAgent.indexOf("Windows NT 10.0") != -1) || (userAgent.indexOf("Windows NT 6.2") != -1)
			   || (userAgent.indexOf("Windows NT 6.1") != -1) || (userAgent.indexOf("Windows NT 6.0") != -1)
			   || (userAgent.indexOf("Windows NT 5.1") != -1) || (userAgent.indexOf("Windows NT 5.0") != -1)
			   || (userAgent.indexOf("Windows") != -1) || (userAgent.indexOf("windows") != -1))
				OSName="Windows";
			else if (window.navigator.userAgent.indexOf("Mac") != -1) OSName="Mac/iOS";
			else if (window.navigator.userAgent.indexOf("X11") != -1) OSName="UNIX";
			else if (window.navigator.userAgent.indexOf("Linux") != -1) OSName="Linux";
			return OSName;
		}
	</script>
</head>
<body>
	<div>
		<br />
		<br />
		<img class="center" src="opsi_logo.png" alt="opsi logo" />
	</div>

	<section class="center">
		<h1>opsiconfd</h1>
		<div class="center">
		<ul>
			<li><a href="interface">opsi config interface</a></li>
			<li><a href="info">opsiconfd info</a></li>
			<li id="liteminstaller" ><span onclick="download();" >opsi configed installer</span></li>
			<!--li><a href="doc">opsi documentation and manuals</a></li-->
		</ul>
		</div>
	</section>
	<section id="sectioninstaller" class="center" style="display:none;">
		<h2>opsi configuration editor installer</h2>
		<div class="center">
		<ul>
			<li><a href="https://download.uib.de/opsi4.1/misc/helper/opsi-configed-setup.exe">for Windows</a></li>
			<li><a href="https://download.uib.de/opsi4.1/misc/helper/opsi-configed-linux-setup.tar.gz">for Linux</a></li>
		</ul>
		</div>
	</section>
</body>
</html>
